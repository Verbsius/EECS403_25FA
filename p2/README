TL Input Errors
You will always find a number where you expect to find one (though they might be invalid values). To avoid unexpected losses of large amounts of money, you must check for each of the following:

<TIMESTAMP> is non-negative (no one can trade before the market opens)
Timestamps are non-decreasing
e.g. 0 cannot come after 1, but there can be multiple orders with the same timestamp
<TRADER_ID> is in the range [0, <NUM_TRADERS>)
e.g. if <NUM_TRADERS> is 5, then valid trader IDs are 0, 1, 2, 3, 4
<STOCK_ID> is in the range [0, <NUM_STOCKS>)
e.g. if <NUM_STOCKS> is 3, then valid stock IDs are 0, 1, 2
<PRICE> and <QUANTITY> are both positive
If you detect an input error at any time during the program, print a helpful message to cerr and exit(1). You do not need to check for input errors not explicitly mentioned here.


Detailed Algorithm
Following these steps in order will help guarantee that your program prints the correct output at the proper times. Details of the output options are be covered in the Output Details section.

Initialize CURRENT_TIMESTAMP to 0, its value is updated throughout the run of the program, and even though the first order may not arrive at timestamp 0, no valid orders can arrive before that time.

Print Startup Output
Read the next order from input
If the new order’s TIMESTAMP != CURRENT_TIMESTAMP

a. If the --median/-m option is specified, print the median price of all stocks that have been traded on at least once by this point in ascending order by stock ID (Median Output)

b. Set CURRENT_TIMESTAMP to be the new order’s TIMESTAMP.

Add the new order to the market
Make all possible matches in the market that now includes the new order (observing the fact that a single incoming order may make matches with multiple existing orders)

a. If a match is made and the --verbose/-v option is specified, print Verbose Output

b. Remove any completed orders from the market

c. Update the share quantity of any partially fulfilled order in the market

Repeat steps 2-5 until there are no more orders
If the --median/-m flag is set, output final timestamp median information of all stocks that were traded that day (Median Output)
Print Summary Output
If the --trader_info/-i flag is set print Trader Info Output
If the --time_travelers/-t flag is set print Time Travelers Output

If the SELL order arrived first, then the price of the match will be at the price listed by the seller. If the BUY order arrived first, the match price will be the price listed by the buyer.
并不是直接匹配最低的价格，而是根据sell/buy到达的先后来匹配


COMMENT: Spec example, TL mode generating 12 orders.
MODE: TL
NUM_TRADERS: 3
NUM_STOCKS: 2
0 SELL T1 S0 $100 #44
1 SELL T2 S0 $56 #42
2 BUY T1 S0 $73 #19 

2 BUY T2 S0 $34 #50

2 SELL T2 S1 $86 #23

2 SELL T0 S0 $20 #39 20(39 t0)

2 BUY T1 S1 $49 #24 49(24 t1)
2 SELL T1 S1 $83 #45 83(45 t1)
3 SELL T0 S1 $64 #22 64(22 t0)
3 SELL T2 S1 $6 #19 6(19 t2)
3 SELL T0 S1 $42 #37 42(37 t0)
4 SELL T1 S0 $10 #44 10(44 t1)


stock 0 
S 10(33 t1) 56(42-19 t2) 100(44 t1) 
B 

stock 1 
S 42(37 t0) 64(22 t0) 83(45 t1) 86(23 t2)
B 


processing orders... 

trader 1 purcahsed 19 shares of stock 0 from trader 2 for $56/share
trader 2 purchased 39 shares of stock 0 from trader 0 for $34/share



trader 1 purchased 19 shares of stock 1 from trader 2 for $49/share
trader 1 purchased 5 shares of stock 1 from trader 0 for $49/share

trader 2 purchase 11 shares of stock 0 from trader 1 for $34/share


trader completed 5 












